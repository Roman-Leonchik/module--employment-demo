(this["webpackJsonpworking-hours"]=this["webpackJsonpworking-hours"]||[]).push([[0],{32:function(e,a,t){"use strict";var r=t(11),n=t.n(r),o=t(26),i=t(27),l=t(28),c=t(34),p=t(33),s=t(0),u=t.n(s),_=t(1),d=(t(42),t(9)),m=function(e){return u.a.createElement(d.b,{to:e.link,id:e.id,className:e.idActiveButton===e.id?"tablinks active":"tablinks",onClick:e.onClick},e.text)},E=(t(48),function(e){return u.a.createElement("div",{className:"tabs-header"},u.a.createElement("div",{className:"tab"},u.a.createElement(m,{link:"/report",id:"button_report",text:"\u041e\u0442\u0447\u0435\u0442",onClick:e.tabClick,idActiveButton:e.idActiveButton}),u.a.createElement(m,{link:"/schedule",id:"button_schedule",text:"\u0413\u0440\u0430\u0444\u0438\u043a",onClick:e.tabClick,idActiveButton:e.idActiveButton})),u.a.createElement("div",{className:"date"},u.a.createElement("input",{type:"date",onChange:e.changeDate})))}),M=(t(49),t(50),function(e){return u.a.createElement("div",{className:"userTime--wrapp",id:e.id},u.a.createElement("div",{className:"user-name"},u.a.createElement("button",{onClick:e.onClickName},e.userName)),u.a.createElement("div",{className:"user-time"},u.a.createElement("button",{className:e.classButtonTime,onClick:e.clickPopap,id:e.idUser},e.userTime)),null===e.linkWork?"":u.a.createElement("div",{className:"user-work"},u.a.createElement("a",{href:e.linkWork},e.userWork)))}),R=function(e){var a=[];if(null!==e.arrayModuleReport)for(var t=0,r=Object.keys(e.arrayModuleReport.STRUCTURE);t<r.length;t++){var n=r[t],o=e.arrayModuleReport.STRUCTURE;if(0!==o[n].SHOW){a.push(u.a.createElement("div",{className:"departament--title",key:o[n].ID},o[n].NAME));for(var i=0;i<o[n].EMPLOYEES.length;i++){var l=o[n].EMPLOYEES[i],c=new Function("if (BX.IM) { BXIM.openMessenger("+e.arrayModuleReport.USERS[l].INFO.ID+"); return false; } else { window.open('', '', 'status=no,scrollbars=yes,resizable=yes,width=700,height=550,top='+Math.floor((screen.height - 550)/2-14)+',left='+Math.floor((screen.width - 700)/2-5)); return false; }");if(0!==e.arrayModuleReport.USERS[l].IS_TRACKED)var p=e.arrayModuleReport.TASKS[e.arrayModuleReport.USERS[l].IS_TRACKED].TITLE,s=e.pageDomain+"/company/personal/user/"+e.arrayModuleReport.USERS[l].INFO.ID+"/tasks/task/view/"+e.arrayModuleReport.USERS[l].IS_TRACKED+"/";else p=null,s=null;a.push(u.a.createElement(M,{id:e.arrayModuleReport.USERS[l].INFO.ID,key:e.arrayModuleReport.USERS[l].INFO.ID,userName:e.arrayModuleReport.USERS[l].INFO.FULL_NAME,userTime:e.arrayModuleReport.USERS[l].TIME_PRINT,classButtonTime:0===e.arrayModuleReport.USERS[l].TIME?"buttonTime":"buttonTime active",userWork:p,linkWork:s,onClickName:c,clickPopap:e.clickPopap,idUser:e.arrayModuleReport.USERS[l].INFO.ID}))}}}return a},v=function(e){return u.a.createElement("div",{className:"report--wrapp"},u.a.createElement("div",{className:"modul--head"},u.a.createElement("div",{className:"item"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"),u.a.createElement("div",{className:"item"},"\u0412\u0440\u0435\u043c\u044f"),u.a.createElement("div",{className:"item"},"\u0417\u0430\u0434\u0430\u0447\u0430")),u.a.createElement(R,{arrayModuleReport:e.arrayModuleReport,clickPopap:e.clickPopap,pageDomain:e.pageDomain}))},S=t(30),N=function(e){var a=[];if(null!==e.arrayModuleReport)for(var t=0,r=Object.keys(e.arrayModuleReport.STRUCTURE);t<r.length;t++){var n=r[t],o=e.arrayModuleReport.STRUCTURE,i=0;if(0!==o[n].EMPLOYEES.length&&0!==o[n].SHOW){var l=[[{type:"string",id:"Position"},{type:"string",id:"Name"},{type:"date",id:"Start"},{type:"date",id:"End"}]];a.push(u.a.createElement("div",{className:"departament--title",key:o[n].ID},o[n].NAME));for(var c=0;c<o[n].EMPLOYEES.length;c++){var p=o[n].EMPLOYEES[c],s=[],_=[],d=e.arrayModuleReport.USERS[p];if(void 0!==d.TIMEMAN){var m=d.TIMEMAN[0].DATE_START.replace(/\s/g,":").replace(/\./g,":").split(/:/),E=d.TIMEMAN[0].DATE_FINISH.replace(/\s/g,":").replace(/\./g,":").split(/:/);s=[e.arrayModuleReport.USERS[p].INFO.FULL_NAME,"\u0420\u0430\u0431\u043e\u0447\u0435\u0435 \u0432\u0440\u0435\u043c\u044f",new Date(Number(m[2]),Number(m[1]-1),Number(m[0]),Number(m[3]),Number(m[4],Number(m[5]))),new Date(Number(E[2]),Number(E[1]-1),Number(E[0]),Number(E[3]),Number(E[4],Number(E[5])))]}if(0!==s.length&&(i+=41,l.push(s)),void 0!==e.arrayModuleReport.USERS[p].TASKS_ELAPSED){var M=e.arrayModuleReport.USERS[p].TASKS_ELAPSED;i+=31;for(var R=0,v=Object.keys(M);R<v.length;R++)for(var N=v[R],D=0;D<M[N].length;D++)if(void 0!==M[N][D].ID){var b=M[N][D].DATE_START.replace(/\s/g,":").replace(/\./g,":").split(/:/),k=M[N][D].DATE_STOP.replace(/\s/g,":").replace(/\./g,":").split(/:/),h=M[N][D].TASK_ID;_=[e.arrayModuleReport.USERS[p].INFO.FULL_NAME,e.arrayModuleReport.TASKS[h].TITLE,new Date(Number(b[2]),Number(b[1]-1),Number(b[0]),Number(b[3]),Number(b[4]),Number(b[5])),new Date(Number(k[2]),Number(k[1]-1),Number(k[0]),Number(k[3]),Number(k[4]),Number(k[5]))],l.push(_)}}}a.push(u.a.createElement(S.a,{key:"STRUCTURE"+o[n].ID,width:"100%",height:i+50+"px",chartType:"Timeline",loader:u.a.createElement("div",null,"Loading Chart"),data:l,rootProps:{"data-testid":"6"}}))}}return a},D=function(e){return u.a.createElement("div",{className:"schedule--wrapp"},u.a.createElement("div",{className:"modul--head"},u.a.createElement("div",{className:"item"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"),u.a.createElement("div",{className:"item"},"\u0420\u0430\u0431\u043e\u0447\u0435\u0435 \u0432\u0440\u0435\u043c\u044f/\u0417\u0430\u0434\u0430\u0447\u0430")),u.a.createElement(N,{arrayModuleReport:e.arrayModuleReport}))},b=function(e){var a=e.arrayModuleReport.USERS[e.popapIdUser].TASKS,t=[];if(0!==Object.keys(a).length)for(var r=0,n=Object.keys(a);r<n.length;r++){var o=n[r],i=e.arrayModuleReport.TASKS[o].TITLE,l=e.arrayModuleReport.TASKS[o].ID,c=e.pageDomain+"/company/personal/user/"+e.popapIdUser+"/tasks/task/view/"+o+"/",p=a[l],s=Math.floor(p/60/60),_=Math.floor(p/60)-60*s,d=p%60,m=[s.toString().padStart(2,"0"),_.toString().padStart(2,"0"),d.toString().padStart(2,"0")].join(":");t.push(u.a.createElement("div",{className:"task--item",key:"timeID"+l},u.a.createElement("div",{className:"task--name"},u.a.createElement("a",{href:c},i)),u.a.createElement("div",{className:"task--time"},m)))}return t},k=(t(51),function(e){var a=e.arrayModuleReport.USERS[e.popapIdUser].INFO.FULL_NAME;return u.a.createElement("div",{className:"popup--wrap"},u.a.createElement("div",{className:"popup--item"},u.a.createElement("button",{className:"popup--close",onClick:e.popapHide}),u.a.createElement("div",{className:"name"},a+". ","\u0417\u0430\u0434\u0430\u0447\u0438 \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0434\u0435\u043d\u044c"),u.a.createElement("div",{className:"popup--container"},u.a.createElement("div",{className:"modul--head"},u.a.createElement("div",{className:"item"},"\u0417\u0430\u0434\u0430\u0447\u0430"),u.a.createElement("div",{className:"item"},"\u0412\u0440\u0435\u043c\u044f")),u.a.createElement(b,{pageDomain:e.pageDomain,arrayModuleReport:e.arrayModuleReport,popapIdUser:e.popapIdUser}))))}),h=t(14),f=t.n(h),y=function(e){Object(c.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={idActiveButton:"button_report",arrayModuleReport:null,popapActive:!1,popapIdUser:null,date:(new Date).toJSON().slice(0,10).replace(/-/g,"."),pageLink:e.props.installation.pagelink,pageDomain:e.props.installation.domain},e.tabClick=function(a){var t=a.target.id;e.setState({idActiveButton:t})},e.popapVisible=function(a){a.preventDefault();var t=a.target.id;e.setState({popapActive:!0,popapIdUser:t})},e.popapHide=function(a){a.preventDefault(),e.setState({popapActive:!1})},e.changeDate=function(a){var t=a.target.value.replace(/-/g,"."),r=t.split(/\./)[2]+"."+t.split(/\./)[1]+"."+t.split(/\./)[0];f.a.get(e.state.pageLink+r).then((function(a){return e.setState({arrayModuleReport:a.data})})),e.setState({date:r})},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(n.a.mark((function e(){var a,t=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.date.split(/\./)[2]+"."+this.state.date.split(/\./)[1]+"."+this.state.date.split(/\./)[0],f.a.get(this.state.pageLink+a).then((function(e){return t.setState({arrayModuleReport:e.data})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.idActiveButton,r=a.arrayModuleReport,n=a.popapActive,o=a.popapIdUser,i=a.pageDomain;return u.a.createElement("div",{className:"App"},u.a.createElement(E,{tabClick:this.tabClick,idActiveButton:t,changeDate:this.changeDate}),u.a.createElement(_.a,{exact:!0,path:["/","/report"],render:function(a){return u.a.createElement(v,Object.assign({},a,{arrayModuleReport:r,clickPopap:e.popapVisible,pageDomain:i}))}}),u.a.createElement(_.a,{exact:!0,path:["/schedule"],render:function(e){return u.a.createElement(D,Object.assign({},e,{arrayModuleReport:r}))}}),!1===n?"":u.a.createElement(k,{popapHide:this.popapHide,arrayModuleReport:r,popapIdUser:o,pageDomain:i}))}}]),t}(s.Component);a.a=y},35:function(e,a,t){e.exports=t(36)},36:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__),_App__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_main_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69),_main_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_main_scss__WEBPACK_IMPORTED_MODULE_4__),installation=document.getElementById("installation--page").innerHTML,arrInstallation=eval("({obj:["+installation+"]})");react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_App__WEBPACK_IMPORTED_MODULE_2__.a,{installation:arrInstallation.obj[0].install})),document.getElementById("root"))},42:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},69:function(e,a,t){}},[[35,1,2]]]);
//# sourceMappingURL=main.9db82c54.chunk.js.map